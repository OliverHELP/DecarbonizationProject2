<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- PAGE TITLE: Change this to whatever you like! -->
    <title>Energy Owl Dashboard</title>
    <!-- FONTS: Using Roboto and Nunito. You can explore others at fonts.google.com -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="Decarbonization styling.css">
</head>
<body>
    <div id="linesContainer"></div>

    <div class="panel power-sources-panel">
        <h2>Energy Generation Units</h2>
        <button class="toggle-form-visibility" id="toggleAddSourceFormBtn">Show Add Unit Form</button>
        <div class="panel-content" id="powerSourcesList"></div>
        <div class="controls-form add-power-source-controls" id="addPowerSourceForm">
            <h3>Add New Generation Unit</h3>
            <label for="newSourceName">Unit Name:</label> <input type="text" id="newSourceName" placeholder="e.g., Solar Farm Alpha">
            <label for="newSourceType">Type:</label> <input type="text" id="newSourceType" placeholder="Cogen">
            <label for="newSourceCapacity">Capacity (W):</label> <input type="number" id="newSourceCapacity" placeholder="20000">
            <label for="newSourceIcon">Icon:</label> <input type="text" id="newSourceIcon" placeholder="⚙️">
            <label for="newSourceCO2">CO2 Emissions (g/kWh):</label> <input type="number" id="newSourceCO2" placeholder="e.g., 450">
            <button id="addPowerSourceBtn">Add Unit</button>
        </div>
    </div>

    <div class="panel power-available-panel" id="powerAvailablePanel">
        <h3>Total Available Capacity(Kresge Academic Building)</h3>
        <div class="meter-reading" id="totalAvailableValue">0.00 kW</div>
        <div class="capacity-owl-container">
            <span class="capacity-owl" id="capacityOwlEmoji">🦉</span>
            <p class="capacity-owl-status" id="capacityOwlText">Monitoring...</p>
        </div>
        <p class="description">Current combined output from active generation units.</p>
        <div class="co2-emissions-info">
            <h4>Hourly CO₂ Emissions</h4>
            <p id="co2EmissionsValue">Calculating...</p>
        </div>
        <button id="simulationModeBtn">Start Simulation Mode</button>
    </div>

    <div class="panel circuits-panel">
        <h2>Building Load Distribution</h2>
        <button class="toggle-form-visibility" id="toggleAddCircuitFormBtn">Show Add Zone Form</button>
        <div class="panel-content" id="circuitsList"></div>
        <div class="power-meter-total">
            <h3>Current Energy Consumption:</h3>
            <div id="totalMeterReading" class="meter-reading">0.00 kW</div>
        </div>
        <div class="controls-form add-circuit-controls" id="addCircuitForm">
            <h3>Configure New Load Zone</h3>
            <label for="newCircuitName">Zone Name:</label> <input type="text" id="newCircuitName" placeholder="e.g., HVAC Systems">
            <label for="newCircuitIcon">Zone Icon (Emoji):</label> <input type="text" id="newCircuitIcon" placeholder="🏢"> <!-- NEW -->
            <label for="newCircuitDeviceName">Device Name:</label> <input type="text" id="newCircuitDeviceName" placeholder="Main Chiller">
            <label for="newCircuitDeviceWatts">Device Wattage (W):</label> <input type="number" id="newCircuitDeviceWatts" placeholder="5000">
            <label for="connectToPrimarySource">Primary Feed:</label> <select id="connectToPrimarySource"></select>
            <label for="connectToBackupSource">Backup Feed:</label> <select id="connectToBackupSource"></select>
            <button id="addCircuitBtn">Add Zone</button>
        </div>
    </div>

    <!-- Link to external JavaScript file -->
    <script src="Decarbonization.js"></script>
</body>
</html>